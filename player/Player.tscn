[gd_scene load_steps=49 format=3 uid="uid://di6a53gnk5t2n"]

[ext_resource type="Script" path="res://player/Player.gd" id="1_rsmvc"]
[ext_resource type="Texture2D" uid="uid://mfphwxtb85tt" path="res://player/flames/vaisseau_joueur_flammes_haut1.png" id="2_7f437"]
[ext_resource type="Texture2D" uid="uid://bohe0t548s4xp" path="res://player/vaisseau.png" id="2_yo8sm"]
[ext_resource type="Texture2D" uid="uid://dnggo41hn3qhc" path="res://player/flames/vaisseau_joueur_flammes_gauche1.png" id="3_ff32p"]
[ext_resource type="Texture2D" uid="uid://c42b2uiimw5yg" path="res://player/flames/vaisseau_joueur_flammes_haut2.png" id="3_n32fx"]
[ext_resource type="Texture2D" uid="uid://dlpylrhwotoch" path="res://player/flames/vaisseau_joueur_flammes_haut3.png" id="4_7wy83"]
[ext_resource type="Script" path="res://player/SFX/SFX.gd" id="4_fm7y1"]
[ext_resource type="Texture2D" uid="uid://12m7h87pajgu" path="res://player/flames/vaisseau_joueur_flammes_gauche2.png" id="4_jyq88"]
[ext_resource type="Texture2D" uid="uid://di1551wm5xdpb" path="res://player/flames/vaisseau_joueur_flammes_droite1.png" id="5_062d7"]
[ext_resource type="AudioStream" uid="uid://c1lf7ynss2d7k" path="res://player/SFX/fire_start_1.wav" id="5_i5xdt"]
[ext_resource type="Texture2D" uid="uid://btrgwwgyl5eyk" path="res://player/flames/vaisseau_joueur_flammes_gauche3.png" id="5_xr15s"]
[ext_resource type="Texture2D" uid="uid://c7b3x5fkb1gxs" path="res://player/flames/vaisseau_joueur_flammes_droite2.png" id="6_3kcqh"]
[ext_resource type="AudioStream" uid="uid://cmyt7701js27u" path="res://player/SFX/fire_start_2.wav" id="6_qqyb8"]
[ext_resource type="Texture2D" uid="uid://dk5lfj3xne8x7" path="res://player/flames/vaisseau_joueur_flammes_bas1.png" id="6_ydsah"]
[ext_resource type="AudioStream" uid="uid://daxhmq4deiyhr" path="res://player/SFX/fire_start_3.wav" id="7_7a63n"]
[ext_resource type="Texture2D" uid="uid://f01bg3103767" path="res://player/flames/vaisseau_joueur_flammes_bas2.png" id="7_mh4ko"]
[ext_resource type="Texture2D" uid="uid://dtlc2wn4dptdw" path="res://player/flames/vaisseau_joueur_flammes_droite3.png" id="7_uvi1j"]
[ext_resource type="Texture2D" uid="uid://cvfkrkv7brglx" path="res://player/flames/vaisseau_joueur_flammes_bas3.png" id="8_6pe7v"]
[ext_resource type="AudioStream" uid="uid://ceejpknwjtsq0" path="res://player/SFX/fire_sustain.wav" id="8_xrqab"]
[ext_resource type="PackedScene" uid="uid://dup7bmnxifgyd" path="res://health-system/HealthSystem.tscn" id="11_n0jhs"]
[ext_resource type="PackedScene" uid="uid://b1a6w4bh4br5v" path="res://helpers/hurt-animation/HurtAnimation.tscn" id="12_uwy2g"]
[ext_resource type="PackedScene" uid="uid://ba06loe142qwy" path="res://player/SelectionZone.tscn" id="13_n8rio"]
[ext_resource type="PackedScene" uid="uid://dvf582hv62snf" path="res://weapons/turrets/bullet-turrets/BulletTurret.tscn" id="14_0m4ls"]
[ext_resource type="PackedScene" uid="uid://g2uw1el2x1ea" path="res://hud/radar/PlayerRadar.tscn" id="14_fhr4g"]
[ext_resource type="Texture2D" uid="uid://837ubqfblgba" path="res://player/damage/vaisseau_joueur_degats1-1.png" id="15_mwcnb"]
[ext_resource type="Script" path="res://player/damage/DamageSprites.gd" id="15_yty34"]
[ext_resource type="Texture2D" uid="uid://cpri2qtaygvjt" path="res://player/damage/vaisseau_joueur_degats1-2.png" id="16_51tfr"]
[ext_resource type="Texture2D" uid="uid://k10e0oq4dlvg" path="res://player/damage/vaisseau_joueur_degats3-2.png" id="16_d77lt"]
[ext_resource type="Texture2D" uid="uid://clugfr3vqxxm8" path="res://player/damage/vaisseau_joueur_degats3-1.png" id="17_0ci7u"]
[ext_resource type="Texture2D" uid="uid://ea3lxkw40onr" path="res://player/damage/vaisseau_joueur_degats1-3.png" id="17_hfgue"]
[ext_resource type="Texture2D" uid="uid://t8sgcb3jqt4c" path="res://player/damage/vaisseau_joueur_degats3-3.png" id="17_nhghw"]
[ext_resource type="PackedScene" uid="uid://djt0jq7486mc6" path="res://hud/UnderAttack.tscn" id="17_umsx8"]
[ext_resource type="Texture2D" uid="uid://dnwcufs3p52il" path="res://player/damage/vaisseau_joueur_degats2-1.png" id="18_ea1ar"]
[ext_resource type="Texture2D" uid="uid://cqwcpkfb7l2ei" path="res://player/damage/vaisseau_joueur_degats2-2.png" id="19_d5nhr"]
[ext_resource type="Texture2D" uid="uid://bvyupe6vlwjo1" path="res://player/damage/vaisseau_joueur_degats2-3.png" id="20_bj8o4"]
[ext_resource type="PackedScene" uid="uid://djo7oaxj6obr3" path="res://shield/Shield.tscn" id="26_ou017"]
[ext_resource type="PackedScene" uid="uid://cy5srf1xm0us3" path="res://ui/ProgressBar.tscn" id="28_3yh50"]
[ext_resource type="Script" path="res://npc/ShipHealth.gd" id="29_6cpgu"]

[sub_resource type="AnimatedTexture" id="AnimatedTexture_78gkf"]
frames = 3
speed_scale = 6.0
frame_0/texture = ExtResource("2_7f437")
frame_1/texture = ExtResource("3_n32fx")
frame_1/duration = 1.0
frame_2/texture = ExtResource("4_7wy83")
frame_2/duration = 1.0

[sub_resource type="AnimatedTexture" id="AnimatedTexture_e2sss"]
frames = 3
speed_scale = 6.0
frame_0/texture = ExtResource("5_062d7")
frame_1/texture = ExtResource("6_3kcqh")
frame_1/duration = 1.0
frame_2/texture = ExtResource("7_uvi1j")
frame_2/duration = 1.0

[sub_resource type="AnimatedTexture" id="AnimatedTexture_fkjee"]
frames = 3
speed_scale = 6.0
frame_0/texture = ExtResource("3_ff32p")
frame_1/texture = ExtResource("4_jyq88")
frame_1/duration = 1.0
frame_2/texture = ExtResource("5_xr15s")
frame_2/duration = 1.0

[sub_resource type="AnimatedTexture" id="AnimatedTexture_uu57v"]
frames = 3
speed_scale = 6.0
frame_0/texture = ExtResource("6_ydsah")
frame_1/texture = ExtResource("7_mh4ko")
frame_1/duration = 1.0
frame_2/texture = ExtResource("8_6pe7v")
frame_2/duration = 1.0

[sub_resource type="AnimatedTexture" id="AnimatedTexture_85e30"]
frames = 3
speed_scale = 6.0
frame_0/texture = ExtResource("15_mwcnb")
frame_1/texture = ExtResource("16_51tfr")
frame_1/duration = 1.0
frame_2/texture = ExtResource("17_hfgue")
frame_2/duration = 1.0

[sub_resource type="AnimatedTexture" id="AnimatedTexture_d8as1"]
frames = 3
speed_scale = 6.0
frame_0/texture = ExtResource("18_ea1ar")
frame_1/texture = ExtResource("19_d5nhr")
frame_1/duration = 1.0
frame_2/texture = ExtResource("20_bj8o4")
frame_2/duration = 1.0

[sub_resource type="AnimatedTexture" id="AnimatedTexture_0r401"]
frames = 3
speed_scale = 6.0
frame_0/texture = ExtResource("17_0ci7u")
frame_1/texture = ExtResource("16_d77lt")
frame_1/duration = 1.0
frame_2/texture = ExtResource("17_nhghw")
frame_2/duration = 1.0

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_nobpd"]
radius = 97.6997
height = 224.135

[sub_resource type="AudioStreamRandomizer" id="AudioStreamRandomizer_c822x"]
streams_count = 3
random_volume_offset_db = 1.26
stream_0/stream = ExtResource("7_7a63n")
stream_0/weight = 1.0
stream_1/stream = ExtResource("5_i5xdt")
stream_1/weight = 1.0
stream_2/stream = ExtResource("6_qqyb8")
stream_2/weight = 1.0

[sub_resource type="GDScript" id="GDScript_gcn6k"]
script/source = "extends Node2D

func _physics_process(_delta):
	self.global_rotation = 0
"

[node name="Player" type="RigidBody2D" groups=["ally"]]
z_index = 10
collision_layer = 9
collision_mask = 0
mass = 50.0
script = ExtResource("1_rsmvc")

[node name="FlammesUp" type="Sprite2D" parent="."]
texture_filter = 3
position = Vector2(0, -9.09495e-13)
rotation = 1.57079
scale = Vector2(1.5, 1.5)
texture = SubResource("AnimatedTexture_78gkf")

[node name="FlammesRight" type="Sprite2D" parent="."]
texture_filter = 3
rotation = 1.5708
scale = Vector2(1.5, 1.5)
texture = SubResource("AnimatedTexture_e2sss")

[node name="FlammesLeft" type="Sprite2D" parent="."]
texture_filter = 3
rotation = 1.5708
scale = Vector2(1.5, 1.5)
texture = SubResource("AnimatedTexture_fkjee")

[node name="FlammesDown" type="Sprite2D" parent="."]
texture_filter = 3
rotation = 1.5708
scale = Vector2(1.5, 1.5)
texture = SubResource("AnimatedTexture_uu57v")

[node name="Player" type="Sprite2D" parent="."]
texture_filter = 3
rotation = 1.5708
scale = Vector2(1.5, 1.5)
texture = ExtResource("2_yo8sm")

[node name="DamageSprites" type="Node2D" parent="."]
rotation = 1.5708
scale = Vector2(1.5, 1.5)
script = ExtResource("15_yty34")

[node name="Damage1" type="Sprite2D" parent="DamageSprites"]
visible = false
texture = SubResource("AnimatedTexture_85e30")

[node name="Damage2" type="Sprite2D" parent="DamageSprites"]
visible = false
texture = SubResource("AnimatedTexture_d8as1")

[node name="Damage3" type="Sprite2D" parent="DamageSprites"]
visible = false
texture = SubResource("AnimatedTexture_0r401")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(2, 7.10543e-15)
rotation = 1.5708
scale = Vector2(0.348005, 0.348005)
shape = SubResource("CapsuleShape2D_nobpd")

[node name="SFX" type="Node" parent="."]
script = ExtResource("4_fm7y1")

[node name="FireStart" type="AudioStreamPlayer" parent="SFX"]
stream = SubResource("AudioStreamRandomizer_c822x")
bus = &"Propulsion"

[node name="FireSustain" type="AudioStreamPlayer" parent="SFX"]
stream = ExtResource("8_xrqab")
bus = &"Propulsion"

[node name="HealthSystem" parent="." node_paths=PackedStringArray("hurtable_body") instance=ExtResource("11_n0jhs")]
hurtable_body = NodePath("..")
healable = true
max_health = 100

[node name="HurtAnimation" parent="." instance=ExtResource("12_uwy2g")]

[node name="SelectionZone" parent="." instance=ExtResource("13_n8rio")]

[node name="Turrets" type="Node2D" parent="."]

[node name="Turret" parent="Turrets" instance=ExtResource("14_0m4ls")]
position = Vector2(33, 0)
bullet_spread = 2.5
bullet_damage = 3
turret_allegiance = 1

[node name="PlayerHUD" type="Node2D" parent="."]
script = SubResource("GDScript_gcn6k")

[node name="HealthBar" parent="PlayerHUD" node_paths=PackedStringArray("health_system") instance=ExtResource("28_3yh50")]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -51.0
offset_top = 60.0
offset_right = 51.0
offset_bottom = 76.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("29_6cpgu")
health_system = NodePath("../../HealthSystem")

[node name="UnderAttack" parent="PlayerHUD" instance=ExtResource("17_umsx8")]
offset_top = -64.0
offset_bottom = -64.0

[node name="PlayerRadarEnemies" parent="PlayerHUD" instance=ExtResource("14_fhr4g")]
modulate = Color(0.917647, 0.368627, 0.686275, 0.47451)

[node name="PlayerRadarResources" parent="PlayerHUD" instance=ExtResource("14_fhr4g")]
modulate = Color(0.588235, 0.654902, 0.917647, 0.47451)
radar_type = 1

[node name="Shield" parent="." instance=ExtResource("26_ou017")]
max_health = 40
shield_size = 50.0

[connection signal="dead" from="HealthSystem" to="." method="_on_health_system_dead"]
[connection signal="hp_changed" from="HealthSystem" to="." method="_on_health_system_hp_changed"]
